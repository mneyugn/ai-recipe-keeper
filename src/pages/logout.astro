---
import { createSupabaseServerInstance } from "../db/supabase.client";

// server-side logout - clear Supabase session
const supabase = createSupabaseServerInstance({
  cookies: Astro.cookies,
  headers: Astro.request.headers,
});

// clear session
await supabase.auth.signOut();

// redirect to login page
return Astro.redirect("/auth/login");
---
