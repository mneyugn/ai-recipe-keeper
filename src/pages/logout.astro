---
import { createSupabaseServerInstance } from "../db/supabase.client";

// Server-side logout - wyczyść sesję Supabase
const supabase = createSupabaseServerInstance({
  cookies: Astro.cookies,
  headers: Astro.request.headers,
});

// Wywołaj logout aby wyczyścić sesję
await supabase.auth.signOut();

// Przekieruj do strony logowania
return Astro.redirect("/auth/login");
---
